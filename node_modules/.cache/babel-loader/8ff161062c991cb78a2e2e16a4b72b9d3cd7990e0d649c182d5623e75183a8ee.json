{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FabienRobert\\\\Diffusion Tv\\\\suivi-camions\\\\src\\\\TruckTable.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport \"./TruckTable.css\";\n\n/* ===== Utils statut (inchangés) ===== */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction toBoolOuiNon(val) {\n  const v = (val !== null && val !== void 0 ? val : \"\").toString().trim().toLowerCase();\n  if (v === \"oui\" || v === \"yes\" || v === \"true\") return true;\n  if (v === \"non\" || v === \"no\" || v === \"false\") return false;\n  return null;\n}\nfunction mapRow(obj) {\n  var _ref, _ref2, _obj$UNITE;\n  return {\n    unite: (_ref = (_ref2 = (_obj$UNITE = obj === null || obj === void 0 ? void 0 : obj.UNITE) !== null && _obj$UNITE !== void 0 ? _obj$UNITE : obj === null || obj === void 0 ? void 0 : obj.Unit) !== null && _ref2 !== void 0 ? _ref2 : obj === null || obj === void 0 ? void 0 : obj.UNIT) !== null && _ref !== void 0 ? _ref : \"\"\n  };\n}\nfunction categorize(unite) {\n  const u = (unite !== null && unite !== void 0 ? unite : \"\").toString().trim().toUpperCase();\n  if (u.startsWith(\"RO\")) return \"ROLL-OFF\";\n  if (u.startsWith(\"CA\")) return \"CHARGEMENT AVANT\";\n  if (u.startsWith(\"LA\")) return \"CHARGEMENT LATÉRAL\";\n  return \"Autres camions\";\n}\nfunction buildStatusSections(rows) {\n  const order = [\"ROLL-OFF\", \"CHARGEMENT AVANT\", \"CHARGEMENT LATÉRAL\", \"Autres camions\"];\n  const buckets = Object.fromEntries(order.map(k => [k, []]));\n  for (const r of rows) {\n    const cat = categorize(r.unite);\n    if (!buckets[cat]) buckets[cat] = [];\n    buckets[cat].push(r);\n  }\n  return {\n    order,\n    buckets\n  };\n}\n\n/* ===== Planning atelier (CSV) ===== */\n// Accepte UNITE / UNITÉ / UNIT / UNITES (avec/sans accents)\nfunction isUnitLabel(labelRaw) {\n  const label = (labelRaw !== null && labelRaw !== void 0 ? labelRaw : \"\").toString().normalize(\"NFD\").replace(/\\p{Diacritic}/gu, \"\").trim().toUpperCase();\n  return label === \"UNITE\" || label === \"UNIT\" || label === \"UNITES\" || label === \"UNITÉ\";\n}\n\n/**\r\n * parseSheduleText\r\n * CSV sans en-têtes; chaque ligne utile:\r\n * ;Fournisseur;Jour;UNITE;val;UNITE;val;...\r\n * La toute première cellule de la 1re ligne sert de titre (bandeau bleu).\r\n */\nfunction parseSheduleText(text) {\n  const clean = (text !== null && text !== void 0 ? text : \"\").replace(/\\r/g, \"\");\n  const lines = clean.split(\"\\n\").filter(l => l.trim().length > 0);\n  if (lines.length === 0) return {\n    title: \"\",\n    rows: {}\n  };\n  const firstCells = lines[0].split(\";\").map(c => c.trim());\n  const title = firstCells[0] || \"\";\n  const dataLines = lines.slice(1);\n  const flatRows = [];\n  let currentSupplier = \"\";\n  for (const raw of dataLines) {\n    const cells = raw.split(\";\").map(c => c.trim());\n    if (cells.every(c => !c)) continue;\n    const supplier = cells[1] || currentSupplier || \"\";\n    const jour = cells[2] || \"\";\n    if (supplier) currentSupplier = supplier;\n    const unitValues = [];\n    for (let i = 3; i < cells.length; i++) {\n      var _cells$i, _cells;\n      const label = (_cells$i = cells[i]) !== null && _cells$i !== void 0 ? _cells$i : \"\";\n      const val = (_cells = cells[i + 1]) !== null && _cells !== void 0 ? _cells : \"\";\n      if (isUnitLabel(label) && val) {\n        unitValues.push(val);\n        i += 1;\n      }\n    }\n    if (!jour && unitValues.length === 0) continue;\n    flatRows.push({\n      supplier,\n      jour,\n      units: unitValues\n    });\n  }\n\n  // Groupé par fournisseur\n  const grouped = {};\n  for (const r of flatRows) {\n    const key = r.supplier || \"(Inconnu)\";\n    if (!grouped[key]) grouped[key] = [];\n    grouped[key].push(r);\n  }\n  return {\n    title,\n    rows: grouped\n  };\n}\nfunction ScheduleView({\n  scheduleText,\n  forceMinCols = false,\n  minCols = 19\n}) {\n  _s();\n  const parsed = useMemo(() => parseSheduleText(scheduleText), [scheduleText]);\n  const suppliers = Object.keys(parsed.rows);\n\n  // calc max colonnes nécessaires selon les lignes\n  let computedMax = 0;\n  for (const s of suppliers) {\n    for (const r of parsed.rows[s]) {\n      var _r$units$length, _r$units;\n      computedMax = Math.max(computedMax, (_r$units$length = (_r$units = r.units) === null || _r$units === void 0 ? void 0 : _r$units.length) !== null && _r$units$length !== void 0 ? _r$units$length : 0);\n    }\n  }\n  const maxUnits = forceMinCols ? Math.max(minCols, computedMax) : computedMax;\n  const unitHeaders = Array.from({\n    length: maxUnits\n  }, (_, i) => `test${i + 1}`);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"schedule-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-header\",\n      children: parsed.title || \"PLANIFICATION ATELIER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"schedule-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: 160\n            },\n            children: \"Fournisseur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              width: 140\n            },\n            children: \"Jour\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"schedule-col-label\",\n            style: {\n              width: 60,\n              textAlign: \"center\"\n            },\n            children: \"UNIT\\xC9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), unitHeaders.map((h, i) => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"schedule-col-unit\",\n            children: h\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: suppliers.map(supplier => parsed.rows[supplier].map((r, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: idx === 0 ? supplier : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.jour\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"schedule-col-label\",\n            children: \"UNIT\\xC9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 17\n          }, this), Array.from({\n            length: maxUnits\n          }).map((_, i) => {\n            var _r$units$i, _r$units2;\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"schedule-col-unit\",\n              children: ((_r$units$i = (_r$units2 = r.units) === null || _r$units2 === void 0 ? void 0 : _r$units2[i]) !== null && _r$units$i !== void 0 ? _r$units$i : \"\").toString()\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this);\n          })]\n        }, `${supplier}-${idx}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }, this)))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n/* ===== Page principale ===== */\n_s(ScheduleView, \"Lrxp5JSR4Ml2hkh0+ImT+ML6qGo=\");\n_c = ScheduleView;\nexport default function TruckTable() {\n  _s2();\n  const [statusRows, setStatusRows] = useState([]);\n  const [scheduleText, setScheduleText] = useState(\"\");\n  const [autoScroll, setAutoScroll] = useState(true);\n  const scrollerRef = useRef(null);\n  useEffect(() => {\n    // 1) Charger le planning\n    fetch(\"shedule.csv\").then(r => r.text()).then(setScheduleText).catch(() => setScheduleText(\"\"));\n\n    // 2) Charger un fichier statut camions si nécessaire\n    fetch(\"truck_status.json\").then(r => r.json()).then(arr => setStatusRows(Array.isArray(arr) ? arr.map(mapRow) : [])).catch(() => setStatusRows([]));\n  }, []);\n\n  // Défilement auto (facultatif)\n  useEffect(() => {\n    if (!autoScroll) return;\n    const node = scrollerRef.current;\n    if (!node) return;\n    let dir = 1;\n    const id = setInterval(() => {\n      if (!node) return;\n      if (node.scrollTop + node.clientHeight >= node.scrollHeight) dir = -1;\n      if (node.scrollTop <= 0) dir = 1;\n      node.scrollTop += dir * 2;\n    }, 50);\n    return () => clearInterval(id);\n  }, [autoScroll]);\n  const {\n    order,\n    buckets\n  } = useMemo(() => buildStatusSections(statusRows), [statusRows]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"truck-container\",\n    children: [/*#__PURE__*/_jsxDEV(ScheduleView, {\n      scheduleText: scheduleText,\n      forceMinCols: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: scrollerRef,\n      style: {\n        maxHeight: \"45vh\",\n        overflow: \"auto\",\n        marginTop: 12,\n        border: \"1px solid #999\",\n        padding: 8,\n        background: \"#fff\"\n      },\n      children: order.map(section => {\n        var _buckets$section;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"truck-title\",\n            children: section\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"truck-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-Unit\",\n                  children: \"UNIT\\xC9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-DATE\",\n                  children: \"DATE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-Plainte\",\n                  children: \"PLAINTE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-Date-Rparation\",\n                  children: \"DATE R\\xC9PARATION\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-Garage\",\n                  children: \"GARAGE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-Complte\",\n                  children: \"COMPL\\xC9T\\xC9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-Prochain-Rendez-vous\",\n                  children: \"PROCHAIN RENDEZ-VOUS\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-Disponible\",\n                  children: \"DISPONIBLE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-Note\",\n                  children: \"NOTE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: ((_buckets$section = buckets[section]) !== null && _buckets$section !== void 0 ? _buckets$section : []).map((r, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: r.unite\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"wrap\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"wrap\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"wrap\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: \"center\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"wrap\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, section, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n}\n_s2(TruckTable, \"oElmwWOyRNzCr0Nmnxz3rTIqfLQ=\");\n_c2 = TruckTable;\nvar _c, _c2;\n$RefreshReg$(_c, \"ScheduleView\");\n$RefreshReg$(_c2, \"TruckTable\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsxDEV","_jsxDEV","toBoolOuiNon","val","v","toString","trim","toLowerCase","mapRow","obj","_ref","_ref2","_obj$UNITE","unite","UNITE","Unit","UNIT","categorize","u","toUpperCase","startsWith","buildStatusSections","rows","order","buckets","Object","fromEntries","map","k","r","cat","push","isUnitLabel","labelRaw","label","normalize","replace","parseSheduleText","text","clean","lines","split","filter","l","length","title","firstCells","c","dataLines","slice","flatRows","currentSupplier","raw","cells","every","supplier","jour","unitValues","i","_cells$i","_cells","units","grouped","key","ScheduleView","scheduleText","forceMinCols","minCols","_s","parsed","suppliers","keys","computedMax","s","_r$units$length","_r$units","Math","max","maxUnits","unitHeaders","Array","from","_","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","textAlign","h","idx","_r$units$i","_r$units2","_c","TruckTable","_s2","statusRows","setStatusRows","setScheduleText","autoScroll","setAutoScroll","scrollerRef","fetch","then","catch","json","arr","isArray","node","current","dir","id","setInterval","scrollTop","clientHeight","scrollHeight","clearInterval","ref","maxHeight","overflow","marginTop","border","padding","background","section","_buckets$section","marginBottom","_c2","$RefreshReg$"],"sources":["C:/Users/FabienRobert/Diffusion Tv/suivi-camions/src/TruckTable.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport \"./TruckTable.css\";\r\n\r\n/* ===== Utils statut (inchangés) ===== */\r\nfunction toBoolOuiNon(val) {\r\n  const v = (val ?? \"\").toString().trim().toLowerCase();\r\n  if (v === \"oui\" || v === \"yes\" || v === \"true\") return true;\r\n  if (v === \"non\" || v === \"no\" || v === \"false\") return false;\r\n  return null;\r\n}\r\n\r\nfunction mapRow(obj) {\r\n  return {\r\n    unite: obj?.UNITE ?? obj?.Unit ?? obj?.UNIT ?? \"\",\r\n  };\r\n}\r\n\r\nfunction categorize(unite) {\r\n  const u = (unite ?? \"\").toString().trim().toUpperCase();\r\n  if (u.startsWith(\"RO\")) return \"ROLL-OFF\";\r\n  if (u.startsWith(\"CA\")) return \"CHARGEMENT AVANT\";\r\n  if (u.startsWith(\"LA\")) return \"CHARGEMENT LATÉRAL\";\r\n  return \"Autres camions\";\r\n}\r\n\r\nfunction buildStatusSections(rows) {\r\n  const order = [\"ROLL-OFF\", \"CHARGEMENT AVANT\", \"CHARGEMENT LATÉRAL\", \"Autres camions\"];\r\n  const buckets = Object.fromEntries(order.map(k => [k, []]));\r\n  for (const r of rows) {\r\n    const cat = categorize(r.unite);\r\n    if (!buckets[cat]) buckets[cat] = [];\r\n    buckets[cat].push(r);\r\n  }\r\n  return { order, buckets };\r\n}\r\n\r\n/* ===== Planning atelier (CSV) ===== */\r\n// Accepte UNITE / UNITÉ / UNIT / UNITES (avec/sans accents)\r\nfunction isUnitLabel(labelRaw) {\r\n  const label = (labelRaw ?? \"\")\r\n    .toString()\r\n    .normalize(\"NFD\")\r\n    .replace(/\\p{Diacritic}/gu, \"\")\r\n    .trim()\r\n    .toUpperCase();\r\n  return label === \"UNITE\" || label === \"UNIT\" || label === \"UNITES\" || label === \"UNITÉ\";\r\n}\r\n\r\n/**\r\n * parseSheduleText\r\n * CSV sans en-têtes; chaque ligne utile:\r\n * ;Fournisseur;Jour;UNITE;val;UNITE;val;...\r\n * La toute première cellule de la 1re ligne sert de titre (bandeau bleu).\r\n */\r\nfunction parseSheduleText(text) {\r\n  const clean = (text ?? \"\").replace(/\\r/g, \"\");\r\n  const lines = clean.split(\"\\n\").filter(l => l.trim().length > 0);\r\n  if (lines.length === 0) return { title: \"\", rows: {} };\r\n\r\n  const firstCells = lines[0].split(\";\").map(c => c.trim());\r\n  const title = firstCells[0] || \"\";\r\n\r\n  const dataLines = lines.slice(1);\r\n  const flatRows = [];\r\n  let currentSupplier = \"\";\r\n\r\n  for (const raw of dataLines) {\r\n    const cells = raw.split(\";\").map(c => c.trim());\r\n    if (cells.every(c => !c)) continue;\r\n\r\n    const supplier = cells[1] || currentSupplier || \"\";\r\n    const jour = cells[2] || \"\";\r\n    if (supplier) currentSupplier = supplier;\r\n\r\n    const unitValues = [];\r\n    for (let i = 3; i < cells.length; i++) {\r\n      const label = cells[i] ?? \"\";\r\n      const val = cells[i + 1] ?? \"\";\r\n      if (isUnitLabel(label) && val) {\r\n        unitValues.push(val);\r\n        i += 1;\r\n      }\r\n    }\r\n\r\n    if (!jour && unitValues.length === 0) continue;\r\n\r\n    flatRows.push({\r\n      supplier,\r\n      jour,\r\n      units: unitValues,\r\n    });\r\n  }\r\n\r\n  // Groupé par fournisseur\r\n  const grouped = {};\r\n  for (const r of flatRows) {\r\n    const key = r.supplier || \"(Inconnu)\";\r\n    if (!grouped[key]) grouped[key] = [];\r\n    grouped[key].push(r);\r\n  }\r\n\r\n  return { title, rows: grouped };\r\n}\r\n\r\nfunction ScheduleView({ scheduleText, forceMinCols = false, minCols = 19 }) {\r\n  const parsed = useMemo(() => parseSheduleText(scheduleText), [scheduleText]);\r\n  const suppliers = Object.keys(parsed.rows);\r\n\r\n  // calc max colonnes nécessaires selon les lignes\r\n  let computedMax = 0;\r\n  for (const s of suppliers) {\r\n    for (const r of parsed.rows[s]) {\r\n      computedMax = Math.max(computedMax, r.units?.length ?? 0);\r\n    }\r\n  }\r\n  const maxUnits = forceMinCols ? Math.max(minCols, computedMax) : computedMax;\r\n\r\n  const unitHeaders = Array.from({ length: maxUnits }, (_, i) => `test${i + 1}`);\r\n\r\n  return (\r\n    <div className=\"schedule-container\">\r\n      <div className=\"schedule-header\">{parsed.title || \"PLANIFICATION ATELIER\"}</div>\r\n      <table className=\"schedule-table\">\r\n        <thead>\r\n          <tr>\r\n            <th style={{ width: 160 }}>Fournisseur</th>\r\n            <th style={{ width: 140 }}>Jour</th>\r\n            <th className=\"schedule-col-label\" style={{ width: 60, textAlign: \"center\" }}>\r\n              UNITÉ\r\n            </th>\r\n            {unitHeaders.map((h, i) => (\r\n              <th key={i} className=\"schedule-col-unit\">{h}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {suppliers.map(supplier =>\r\n            parsed.rows[supplier].map((r, idx) => (\r\n              <tr key={`${supplier}-${idx}`}>\r\n                <td>{idx === 0 ? supplier : \"\"}</td>\r\n                <td>{r.jour}</td>\r\n                <td className=\"schedule-col-label\">UNITÉ</td>\r\n                {Array.from({ length: maxUnits }).map((_, i) => (\r\n                  <td key={i} className=\"schedule-col-unit\">\r\n                    {(r.units?.[i] ?? \"\").toString()}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===== Page principale ===== */\r\nexport default function TruckTable() {\r\n  const [statusRows, setStatusRows] = useState([]);\r\n  const [scheduleText, setScheduleText] = useState(\"\");\r\n  const [autoScroll, setAutoScroll] = useState(true);\r\n  const scrollerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // 1) Charger le planning\r\n    fetch(\"shedule.csv\")\r\n      .then(r => r.text())\r\n      .then(setScheduleText)\r\n      .catch(() => setScheduleText(\"\"));\r\n\r\n    // 2) Charger un fichier statut camions si nécessaire\r\n    fetch(\"truck_status.json\")\r\n      .then(r => r.json())\r\n      .then(arr => setStatusRows(Array.isArray(arr) ? arr.map(mapRow) : []))\r\n      .catch(() => setStatusRows([]));\r\n  }, []);\r\n\r\n  // Défilement auto (facultatif)\r\n  useEffect(() => {\r\n    if (!autoScroll) return;\r\n    const node = scrollerRef.current;\r\n    if (!node) return;\r\n    let dir = 1;\r\n    const id = setInterval(() => {\r\n      if (!node) return;\r\n      if (node.scrollTop + node.clientHeight >= node.scrollHeight) dir = -1;\r\n      if (node.scrollTop <= 0) dir = 1;\r\n      node.scrollTop += dir * 2;\r\n    }, 50);\r\n    return () => clearInterval(id);\r\n  }, [autoScroll]);\r\n\r\n  const { order, buckets } = useMemo(() => buildStatusSections(statusRows), [statusRows]);\r\n\r\n  return (\r\n    <div className=\"truck-container\">\r\n      {/* Planning atelier contrôlé par CSV */}\r\n      <ScheduleView scheduleText={scheduleText} forceMinCols={false} />\r\n\r\n      {/* Tableau statuts (laissez-le si utile) */}\r\n      <div\r\n        ref={scrollerRef}\r\n        style={{ maxHeight: \"45vh\", overflow: \"auto\", marginTop: 12, border: \"1px solid #999\", padding: 8, background: \"#fff\" }}\r\n      >\r\n        {order.map(section => (\r\n          <div key={section} style={{ marginBottom: 16 }}>\r\n            <h3 className=\"truck-title\">{section}</h3>\r\n            <table className=\"truck-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"col-Unit\">UNITÉ</th>\r\n                  <th className=\"col-DATE\">DATE</th>\r\n                  <th className=\"col-Plainte\">PLAINTE</th>\r\n                  <th className=\"col-Date-Rparation\">DATE RÉPARATION</th>\r\n                  <th className=\"col-Garage\">GARAGE</th>\r\n                  <th className=\"col-Complte\">COMPLÉTÉ</th>\r\n                  <th className=\"col-Prochain-Rendez-vous\">PROCHAIN RENDEZ-VOUS</th>\r\n                  <th className=\"col-Disponible\">DISPONIBLE</th>\r\n                  <th className=\"col-Note\">NOTE</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {(buckets[section] ?? []).map((r, i) => (\r\n                  <tr key={i}>\r\n                    <td>{r.unite}</td>\r\n                    <td></td>\r\n                    <td className=\"wrap\"></td>\r\n                    <td className=\"wrap\"></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td className=\"wrap\"></td>\r\n                    <td style={{ textAlign: \"center\" }}></td>\r\n                    <td className=\"wrap\"></td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}